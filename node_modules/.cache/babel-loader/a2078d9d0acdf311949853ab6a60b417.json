{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Michael\\\\Documents\\\\Odin Project\\\\nintendo-site\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport './App.css';\nimport { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\nimport HomePage from \"./Pages/HomePage.js\";\nimport ProductsPage from \"./Pages/ProductsPage.js\";\nimport ProductItemPage from \"./Pages/ProductItemPage.js\";\nimport React, { Component, useEffect, useState } from \"react\";\nimport ShoppingCart from './Components/ShoppingCart.js';\nimport allProducts from \"./Data/allProducts\";\nimport Logo from \"./Components/Logo\";\nimport NavBar from \"./Components/NavBar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App(props) {\n  _s();\n\n  const [cartArray, setCartArray] = useState([]);\n  const [currentProduct, setCurrentProduct] = useState();\n  const [showCart, setShowCart] = useState(false);\n  const [totalCartCost, setTotalCartCost] = useState(0);\n  const [cartQuantity, setCartQuantity] = useState(cartArray.length);\n\n  const updateQuantity = () => {\n    let totalQuantity = 0;\n    cartArray.forEach(element => {\n      totalQuantity += element.quantity;\n    });\n    setCartQuantity(totalQuantity);\n  };\n\n  const showCartClick = () => {\n    setShowCart(!showCart);\n  };\n\n  useEffect(() => {\n    calculateCartTotal();\n    updateQuantity(); //change cartBadge\n  }, [cartArray]);\n\n  const addToCart = productId => {\n    const product = allProducts.find(product => product.id === productId);\n\n    if (cartArray.some(product => product.id === productId)) {\n      incrementCartItemQuantity(productId);\n    } else {\n      product[\"quantity\"] = 1;\n      setCartArray(cartArray => [...cartArray, product]);\n    } //display notifcation added to cart \n\n  };\n\n  const calculateCartTotal = () => {\n    //array.forEach(item => console.log(item));\n    let totalCost = 0;\n    cartArray.forEach(product => totalCost += product.price * product.quantity);\n    setTotalCartCost(totalCost.toFixed(2));\n  };\n\n  const incrementCartItemQuantity = productId => {\n    const product = cartArray.find(product => product.id === productId);\n    let products = cartArray;\n    let productIndex = cartArray.indexOf(productId);\n    product.quantity = product.quantity + 1;\n    products[productIndex] = product;\n    setCartArray([...products]);\n  };\n\n  const decrementCartItemQuantity = productId => {\n    const product = cartArray.find(product => product.id === productId);\n\n    if (product.quantity == 1) {\n      return alert(\"Quantity must be greater than 0.\");\n    }\n\n    let products = cartArray;\n    let productIndex = cartArray.indexOf(productId);\n    product.quantity = product.quantity - 1;\n    products[productIndex] = product;\n    setCartArray([...products]);\n  };\n\n  const removeCartItem = productId => {\n    setCartArray(cartArray.filter(product => product.id != productId));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NavBar, {\n      showCartClick: showCartClick,\n      cartQuantity: cartQuantity\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"https://michael-davison.github.io/nintendo-site/#\",\n        children: /*#__PURE__*/_jsxDEV(HomePage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"https://michael-davison.github.io/nintendo-site/#/productsPage\",\n        children: /*#__PURE__*/_jsxDEV(ProductsPage, {\n          addToCart: addToCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"https://michael-davison.github.io/nintendo-site/#/:productId\",\n        children: /*#__PURE__*/_jsxDEV(ProductItemPage, {\n          addToCart: addToCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this), showCart ? /*#__PURE__*/_jsxDEV(ShoppingCart, {\n      removeCartItem: removeCartItem,\n      cartQuantity: cartQuantity,\n      addQuantityButton: incrementCartItemQuantity,\n      subtractQuantityButton: decrementCartItemQuantity,\n      cartArray: cartArray,\n      totalCartCost: totalCartCost\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 20\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"6pg8+UCR0fYFnfjtPEGGSpQbN9k=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/Michael/Documents/Odin Project/nintendo-site/src/App.js"],"names":["BrowserRouter","Switch","Route","Link","HomePage","ProductsPage","ProductItemPage","React","Component","useEffect","useState","ShoppingCart","allProducts","Logo","NavBar","App","props","cartArray","setCartArray","currentProduct","setCurrentProduct","showCart","setShowCart","totalCartCost","setTotalCartCost","cartQuantity","setCartQuantity","length","updateQuantity","totalQuantity","forEach","element","quantity","showCartClick","calculateCartTotal","addToCart","productId","product","find","id","some","incrementCartItemQuantity","totalCost","price","toFixed","products","productIndex","indexOf","decrementCartItemQuantity","alert","removeCartItem","filter"],"mappings":"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","sourcesContent":["import './App.css';\r\nimport { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\r\nimport HomePage from \"./Pages/HomePage.js\";\r\nimport ProductsPage from \"./Pages/ProductsPage.js\";\r\nimport ProductItemPage from \"./Pages/ProductItemPage.js\";\r\nimport React, {Component, useEffect, useState} from \"react\";\r\nimport ShoppingCart from './Components/ShoppingCart.js';\r\nimport allProducts from \"./Data/allProducts\";\r\nimport Logo from \"./Components/Logo\";\r\nimport NavBar from \"./Components/NavBar\";\r\n\r\n\r\n\r\nfunction App(props) {\r\n\r\n  const [cartArray, setCartArray] = useState([]);\r\n  const [currentProduct, setCurrentProduct] = useState();\r\n  const [showCart, setShowCart] = useState(false);\r\n  const [totalCartCost, setTotalCartCost] = useState(0);\r\n  const [cartQuantity, setCartQuantity] = useState(cartArray.length);\r\n\r\n\r\n  const updateQuantity = () => {\r\n    let totalQuantity = 0;\r\n   cartArray.forEach(element => {\r\n     totalQuantity += element.quantity;\r\n   });\r\n\r\n   setCartQuantity(totalQuantity);\r\n  }\r\n \r\n\r\n  const showCartClick = () => {\r\n\r\n    setShowCart(!showCart);\r\n  }\r\n    \r\n\r\n\r\n  useEffect (() =>\r\n    {       \r\n        calculateCartTotal();\r\n        updateQuantity();\r\n        //change cartBadge\r\n    }, [cartArray]);\r\n\r\n \r\n \r\n\r\n\r\n \r\n  const addToCart = (productId) => {\r\n     \r\n      const product = allProducts.find((product) => product.id === productId);\r\n\r\n     \r\n      if(cartArray.some(product => product.id === productId)){\r\n\r\n          incrementCartItemQuantity(productId);\r\n      }\r\n      else {\r\n        product[\"quantity\"] = 1;\r\n        setCartArray(cartArray => [...cartArray, product]);\r\n      }\r\n\r\n      //display notifcation added to cart \r\n      \r\n  \r\n}\r\n\r\nconst calculateCartTotal = () => {\r\n\r\n  //array.forEach(item => console.log(item));\r\n  let totalCost = 0;\r\n  cartArray.forEach(product => totalCost += product.price * product.quantity);\r\n  setTotalCartCost(totalCost.toFixed(2));\r\n\r\n}\r\n\r\nconst incrementCartItemQuantity = (productId) => {\r\n  \r\n  const product = cartArray.find((product) => product.id === productId);\r\n\r\n  let products = cartArray;\r\n  let productIndex = cartArray.indexOf(productId);\r\n  product.quantity = product.quantity + 1;\r\n  products[productIndex] = product;\r\n  setCartArray([...products]);\r\n}\r\n\r\nconst decrementCartItemQuantity = (productId) => {\r\n\r\n  const product = cartArray.find((product) => product.id === productId);\r\n\r\n  if(product.quantity == 1)\r\n{\r\n  return alert(\"Quantity must be greater than 0.\")\r\n}\r\n\r\n  let products = cartArray;\r\n  let productIndex = cartArray.indexOf(productId);\r\n  product.quantity = product.quantity - 1;\r\n  products[productIndex] = product;\r\n  setCartArray([...products]);\r\n\r\n}\r\n\r\nconst removeCartItem = (productId) => {\r\n\r\n  \r\n  \r\n  setCartArray(cartArray.filter(product => product.id != productId));\r\n\r\n}\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Logo/>\r\n      <NavBar showCartClick = {showCartClick} cartQuantity = {cartQuantity}/>\r\n      <Switch>\r\n                <Route exact path=\"https://michael-davison.github.io/nintendo-site/#\">\r\n                  <HomePage/>\r\n                </Route>\r\n                <Route exact path=\"https://michael-davison.github.io/nintendo-site/#/productsPage\">\r\n                  <ProductsPage addToCart={addToCart}  />\r\n                </Route>\r\n                <Route path=\"https://michael-davison.github.io/nintendo-site/#/:productId\">\r\n                  <ProductItemPage addToCart={addToCart} />\r\n                </Route> \r\n               \r\n               \r\n       </Switch>\r\n       {showCart ? <ShoppingCart removeCartItem = {removeCartItem}cartQuantity = {cartQuantity} addQuantityButton = {incrementCartItemQuantity} subtractQuantityButton = {decrementCartItemQuantity} cartArray = {cartArray} totalCartCost = {totalCartCost}/> : null}\r\n       \r\n       \r\n       \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}