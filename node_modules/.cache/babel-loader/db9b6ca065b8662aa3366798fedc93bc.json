{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Michael/Documents/Odin Project/nintendo-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/Michael/Documents/Odin Project/nintendo-site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import{BrowserRouter,Switch,Route,Link}from\"react-router-dom\";import HomePage from\"./Pages/HomePage.js\";import ProductsPage from\"./Pages/ProductsPage.js\";import ProductItemPage from\"./Pages/ProductItemPage.js\";import React,{Component,useEffect,useState}from\"react\";import ShoppingCart from'./Components/ShoppingCart.js';import allProducts from\"./Data/allProducts\";import Logo from\"./Components/Logo\";import NavBar from\"./Components/NavBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartArray=_useState2[0],setCartArray=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),currentProduct=_useState4[0],setCurrentProduct=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showCart=_useState6[0],setShowCart=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalCartCost=_useState8[0],setTotalCartCost=_useState8[1];var _useState9=useState(cartArray.length),_useState10=_slicedToArray(_useState9,2),cartQuantity=_useState10[0],setCartQuantity=_useState10[1];var updateQuantity=function updateQuantity(){var totalQuantity=0;cartArray.forEach(function(element){totalQuantity+=element.quantity;});setCartQuantity(totalQuantity);};var showCartClick=function showCartClick(){setShowCart(!showCart);};useEffect(function(){calculateCartTotal();updateQuantity();//change cartBadge\n},[cartArray]);var addToCart=function addToCart(productId){var product=allProducts.find(function(product){return product.id===productId;});if(cartArray.some(function(product){return product.id===productId;})){incrementCartItemQuantity(productId);}else{product[\"quantity\"]=1;setCartArray(function(cartArray){return[].concat(_toConsumableArray(cartArray),[product]);});}//display notifcation added to cart \n};var calculateCartTotal=function calculateCartTotal(){//array.forEach(item => console.log(item));\nvar totalCost=0;cartArray.forEach(function(product){return totalCost+=product.price*product.quantity;});setTotalCartCost(totalCost.toFixed(2));};var incrementCartItemQuantity=function incrementCartItemQuantity(productId){var product=cartArray.find(function(product){return product.id===productId;});var products=cartArray;var productIndex=cartArray.indexOf(productId);product.quantity=product.quantity+1;products[productIndex]=product;setCartArray(_toConsumableArray(products));};var decrementCartItemQuantity=function decrementCartItemQuantity(productId){var product=cartArray.find(function(product){return product.id===productId;});if(product.quantity==1){return alert(\"Quantity must be greater than 0.\");}var products=cartArray;var productIndex=cartArray.indexOf(productId);product.quantity=product.quantity-1;products[productIndex]=product;setCartArray(_toConsumableArray(products));};var removeCartItem=function removeCartItem(productId){setCartArray(cartArray.filter(function(product){return product.id!=productId;}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Logo,{}),/*#__PURE__*/_jsx(NavBar,{showCartClick:showCartClick,cartQuantity:cartQuantity}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"https://Michael-Davison.github.io/nintendo-site\",children:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/productsPage\",children:/*#__PURE__*/_jsx(ProductsPage,{addToCart:addToCart})}),/*#__PURE__*/_jsx(Route,{path:\"/store/products/:productId\",children:/*#__PURE__*/_jsx(ProductItemPage,{addToCart:addToCart})})]}),showCart?/*#__PURE__*/_jsx(ShoppingCart,{removeCartItem:removeCartItem,cartQuantity:cartQuantity,addQuantityButton:incrementCartItemQuantity,subtractQuantityButton:decrementCartItemQuantity,cartArray:cartArray,totalCartCost:totalCartCost}):null]});}export default App;","map":{"version":3,"sources":["C:/Users/Michael/Documents/Odin Project/nintendo-site/src/App.js"],"names":["BrowserRouter","Switch","Route","Link","HomePage","ProductsPage","ProductItemPage","React","Component","useEffect","useState","ShoppingCart","allProducts","Logo","NavBar","App","props","cartArray","setCartArray","currentProduct","setCurrentProduct","showCart","setShowCart","totalCartCost","setTotalCartCost","length","cartQuantity","setCartQuantity","updateQuantity","totalQuantity","forEach","element","quantity","showCartClick","calculateCartTotal","addToCart","productId","product","find","id","some","incrementCartItemQuantity","totalCost","price","toFixed","products","productIndex","indexOf","decrementCartItemQuantity","alert","removeCartItem","filter"],"mappings":"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","sourcesContent":["import './App.css';\r\nimport { BrowserRouter, Switch, Route, Link } from \"react-router-dom\";\r\nimport HomePage from \"./Pages/HomePage.js\";\r\nimport ProductsPage from \"./Pages/ProductsPage.js\";\r\nimport ProductItemPage from \"./Pages/ProductItemPage.js\";\r\nimport React, {Component, useEffect, useState} from \"react\";\r\nimport ShoppingCart from './Components/ShoppingCart.js';\r\nimport allProducts from \"./Data/allProducts\";\r\nimport Logo from \"./Components/Logo\";\r\nimport NavBar from \"./Components/NavBar\";\r\n\r\n\r\n\r\nfunction App(props) {\r\n\r\n  const [cartArray, setCartArray] = useState([]);\r\n  const [currentProduct, setCurrentProduct] = useState();\r\n  const [showCart, setShowCart] = useState(false);\r\n  const [totalCartCost, setTotalCartCost] = useState(0);\r\n  const [cartQuantity, setCartQuantity] = useState(cartArray.length);\r\n\r\n\r\n  const updateQuantity = () => {\r\n    let totalQuantity = 0;\r\n   cartArray.forEach(element => {\r\n     totalQuantity += element.quantity;\r\n   });\r\n\r\n   setCartQuantity(totalQuantity);\r\n  }\r\n \r\n\r\n  const showCartClick = () => {\r\n\r\n    setShowCart(!showCart);\r\n  }\r\n    \r\n\r\n\r\n  useEffect (() =>\r\n    {       \r\n        calculateCartTotal();\r\n        updateQuantity();\r\n        //change cartBadge\r\n    }, [cartArray]);\r\n\r\n \r\n \r\n\r\n\r\n \r\n  const addToCart = (productId) => {\r\n     \r\n      const product = allProducts.find((product) => product.id === productId);\r\n\r\n     \r\n      if(cartArray.some(product => product.id === productId)){\r\n\r\n          incrementCartItemQuantity(productId);\r\n      }\r\n      else {\r\n        product[\"quantity\"] = 1;\r\n        setCartArray(cartArray => [...cartArray, product]);\r\n      }\r\n\r\n      //display notifcation added to cart \r\n      \r\n  \r\n}\r\n\r\nconst calculateCartTotal = () => {\r\n\r\n  //array.forEach(item => console.log(item));\r\n  let totalCost = 0;\r\n  cartArray.forEach(product => totalCost += product.price * product.quantity);\r\n  setTotalCartCost(totalCost.toFixed(2));\r\n\r\n}\r\n\r\nconst incrementCartItemQuantity = (productId) => {\r\n  \r\n  const product = cartArray.find((product) => product.id === productId);\r\n\r\n  let products = cartArray;\r\n  let productIndex = cartArray.indexOf(productId);\r\n  product.quantity = product.quantity + 1;\r\n  products[productIndex] = product;\r\n  setCartArray([...products]);\r\n}\r\n\r\nconst decrementCartItemQuantity = (productId) => {\r\n\r\n  const product = cartArray.find((product) => product.id === productId);\r\n\r\n  if(product.quantity == 1)\r\n{\r\n  return alert(\"Quantity must be greater than 0.\")\r\n}\r\n\r\n  let products = cartArray;\r\n  let productIndex = cartArray.indexOf(productId);\r\n  product.quantity = product.quantity - 1;\r\n  products[productIndex] = product;\r\n  setCartArray([...products]);\r\n\r\n}\r\n\r\nconst removeCartItem = (productId) => {\r\n\r\n  \r\n  \r\n  setCartArray(cartArray.filter(product => product.id != productId));\r\n\r\n}\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Logo/>\r\n      <NavBar showCartClick = {showCartClick} cartQuantity = {cartQuantity}/>\r\n      <Switch>\r\n                <Route exact path=\"https://Michael-Davison.github.io/nintendo-site\">\r\n                  <HomePage/>\r\n                </Route>\r\n                <Route exact path=\"/productsPage\">\r\n                  <ProductsPage addToCart={addToCart}  />\r\n                </Route>\r\n                <Route path=\"/store/products/:productId\">\r\n                  <ProductItemPage addToCart={addToCart} />\r\n                </Route> \r\n               \r\n               \r\n       </Switch>\r\n       {showCart ? <ShoppingCart removeCartItem = {removeCartItem}cartQuantity = {cartQuantity} addQuantityButton = {incrementCartItemQuantity} subtractQuantityButton = {decrementCartItemQuantity} cartArray = {cartArray} totalCartCost = {totalCartCost}/> : null}\r\n       \r\n       \r\n       \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}